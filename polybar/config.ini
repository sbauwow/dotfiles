;==========================================================
;   Neon Cyber Polybar Config
;==========================================================

[neon]
bg        = #0a0e14
bg-dark   = #060a0f
bg-hl     = #151b24
fg        = #d4dce6
fg-dark   = #8b949e
fg-gutter = #1c2433
comment   = #4a5568
cyan      = #00e5ff
blue      = #0088ff
electric  = #00b4d8
pink      = #ff0080
lime      = #00ff88
yellow    = #ffea00
orange    = #ff6d00
red       = #ff3d3d
purple    = #bd00ff

;----------------------------------------------------------
;   Bar
;----------------------------------------------------------

[bar/main]
monitor = ${env:MONITOR:}
width = 100%
height = 34
radius = 0
fixed-center = true

background = ${neon.bg}
foreground = ${neon.fg}

line-size = 0

border-bottom-size = 1
border-bottom-color = ${neon.bg-hl}

padding-left = 2
padding-right = 2

module-margin-left = 1
module-margin-right = 1

; Noto Sans for text, Nerd Font for icons
font-0 = "Noto Sans:size=10;3"
font-1 = "Terminess Nerd Font Mono:size=15;4"
font-2 = "Noto Sans:size=8;2"

modules-left = i3 sep media
modules-center = title
modules-right = weather sep updates sep cpu-temp cpu memory disk sep net-speed wlan eth sep pulseaudio sep battery sep date tray

cursor-click = pointer
cursor-scroll = ns-resize

enable-ipc = true

wm-restack = i3

;----------------------------------------------------------
;   Decorations
;----------------------------------------------------------

[module/sep]
type = custom/text
content = "  |  "
content-foreground = ${neon.fg-gutter}

;----------------------------------------------------------
;   Left Modules
;----------------------------------------------------------

[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false
pin-workspaces = true

label-mode-padding = 2
label-mode-foreground = ${neon.bg}
label-mode-background = ${neon.cyan}

; focused = Active workspace on focused monitor
label-focused = %index%
label-focused-background = ${neon.bg-hl}
label-focused-foreground = ${neon.cyan}
label-focused-padding = 2

; unfocused = Inactive workspace on any monitor
label-unfocused = %index%
label-unfocused-foreground = ${neon.comment}
label-unfocused-padding = 2

; visible = Active workspace on unfocused monitor
label-visible = %index%
label-visible-background = ${neon.bg-hl}
label-visible-foreground = ${neon.fg-dark}
label-visible-padding = 2

; urgent = Workspace with urgency hint set
label-urgent = %index%
label-urgent-background = ${neon.red}
label-urgent-foreground = ${neon.bg}
label-urgent-padding = 2

[module/media]
type = custom/script
exec = ~/.config/polybar/scripts/media.sh
interval = 3
label = %output%
label-foreground = ${neon.pink}
format-font = 3

;----------------------------------------------------------
;   Center Modules
;----------------------------------------------------------

[module/title]
type = internal/xwindow
label = %title:0:60:...%
label-foreground = ${neon.fg-dark}

;----------------------------------------------------------
;   Right Modules
;----------------------------------------------------------

[module/updates]
type = custom/script
exec = ~/.config/polybar/scripts/updates.sh
interval = 600
label = %output%
label-foreground = ${neon.orange}

[module/weather]
type = custom/script
exec = ~/.config/polybar/scripts/weather.sh
interval = 600
label = %output%
label-foreground = ${neon.cyan}
format-font = 3

[module/cpu-temp]
type = internal/temperature
interval = 5
thermal-zone = 5
warn-temperature = 80

format = <label>
format-prefix = " "
format-prefix-foreground = ${neon.red}
label = %temperature-c%
label-foreground = ${neon.fg}

format-warn = <label-warn>
format-warn-prefix = " "
format-warn-prefix-foreground = ${neon.red}
label-warn = %temperature-c%
label-warn-foreground = ${neon.red}

[module/cpu]
type = internal/cpu
interval = 2
format-prefix = " "
format-prefix-foreground = ${neon.lime}
label = "CPU %percentage:2%%"
label-foreground = ${neon.fg}

[module/memory]
type = internal/memory
interval = 2
format-prefix = " "
format-prefix-foreground = ${neon.yellow}
label = "MEM %percentage_used:2%%"
label-foreground = ${neon.fg}

[module/disk]
type = internal/fs
mount-0 = /
interval = 30
fixed-values = true

format-mounted-prefix = "󰋊 "
format-mounted-prefix-foreground = ${neon.purple}
label-mounted = "DSK %percentage_used%%"
label-mounted-foreground = ${neon.fg}

format-unmounted =

[module/net-speed]
type = internal/network
interface-type = wireless
interval = 1

format-connected = <label-connected>
label-connected = " %downspeed:8%  %upspeed:8%"
label-connected-foreground = ${neon.fg}

format-disconnected =

[module/pulseaudio]
type = internal/pulseaudio

format-volume = <ramp-volume> <label-volume>
label-volume = %percentage%%
label-volume-foreground = ${neon.fg}

ramp-volume-0 =
ramp-volume-1 =
ramp-volume-2 =
ramp-volume-foreground = ${neon.blue}

label-muted = 󰝟 muted
label-muted-foreground = ${neon.comment}

[module/wlan]
type = internal/network
interface-type = wireless
interval = 3.0

format-connected = <label-connected>
format-connected-prefix = "󰖩 "
format-connected-prefix-foreground = ${neon.electric}
label-connected = %essid%
label-connected-foreground = ${neon.fg}

format-disconnected = <label-disconnected>
format-disconnected-prefix = "󰖪 "
format-disconnected-prefix-foreground = ${neon.comment}
label-disconnected = off
label-disconnected-foreground = ${neon.comment}

[module/eth]
type = internal/network
interface-type = wired
interval = 3.0

format-connected-prefix = "󰈀 "
format-connected-prefix-foreground = ${neon.electric}
label-connected = %local_ip%
label-connected-foreground = ${neon.fg}

format-disconnected =

[module/battery]
type = custom/script
exec = ~/.config/polybar/scripts/battery.sh
interval = 5
label = %output%

[module/date]
type = internal/date
interval = 1

date = %a %b %d
time = %H:%M

format-prefix = " "
format-prefix-foreground = ${neon.blue}
label = %date%  %time%
label-foreground = ${neon.fg}

[module/tray]
type = internal/tray
tray-spacing = 8
tray-size = 65%

;----------------------------------------------------------
;   Settings
;----------------------------------------------------------

[settings]
screenchange-reload = true

[global/wm]
margin-top = 0
margin-bottom = 0
