;==========================================================
;   Tokyo Night Polybar Config
;==========================================================

[tokyonight]
bg        = #1a1b26
bg-dark   = #16161e
bg-hl     = #292e42
fg        = #c0caf5
fg-dark   = #a9b1d6
fg-gutter = #3b4261
comment   = #565f89
dark5     = #737aa2
blue      = #7aa2f7
cyan      = #7dcfff
blue1     = #2ac3de
magenta   = #bb9af7
purple    = #9d7cd8
orange    = #ff9e64
yellow    = #e0af68
green     = #9ece6a
green1    = #73daca
teal      = #1abc9c
red       = #f7768e

;----------------------------------------------------------
;   Bar
;----------------------------------------------------------

[bar/main]
monitor = ${env:MONITOR:}
width = 100%
height = 34
radius = 0
fixed-center = true

background = ${tokyonight.bg}
foreground = ${tokyonight.fg}

line-size = 0

border-bottom-size = 1
border-bottom-color = ${tokyonight.bg-hl}

padding-left = 2
padding-right = 2

module-margin-left = 1
module-margin-right = 1

; Noto Sans for text, Nerd Font for icons
font-0 = "Noto Sans:size=10;3"
font-1 = "TerminessTTFNerdFontMono:size=15;4"
font-2 = "Noto Sans:size=8;2"

modules-left = i3 sep media
modules-center = title
modules-right = weather sep updates sep cpu-temp cpu memory disk sep net-speed wlan eth sep pulseaudio sep battery sep date tray

cursor-click = pointer
cursor-scroll = ns-resize

enable-ipc = true

wm-restack = i3

;----------------------------------------------------------
;   Decorations
;----------------------------------------------------------

[module/sep]
type = custom/text
content = "  |  "
content-foreground = ${tokyonight.fg-gutter}

;----------------------------------------------------------
;   Left Modules
;----------------------------------------------------------

[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false
pin-workspaces = true

label-mode-padding = 2
label-mode-foreground = ${tokyonight.bg}
label-mode-background = ${tokyonight.blue}

; focused = Active workspace on focused monitor
label-focused = %index%
label-focused-background = ${tokyonight.bg-hl}
label-focused-foreground = ${tokyonight.blue}
label-focused-padding = 2

; unfocused = Inactive workspace on any monitor
label-unfocused = %index%
label-unfocused-foreground = ${tokyonight.comment}
label-unfocused-padding = 2

; visible = Active workspace on unfocused monitor
label-visible = %index%
label-visible-background = ${tokyonight.bg-hl}
label-visible-foreground = ${tokyonight.fg-dark}
label-visible-padding = 2

; urgent = Workspace with urgency hint set
label-urgent = %index%
label-urgent-background = ${tokyonight.red}
label-urgent-foreground = ${tokyonight.bg}
label-urgent-padding = 2

[module/media]
type = custom/script
exec = ~/.config/polybar/scripts/media.sh
interval = 3
label = %output%
label-foreground = ${tokyonight.magenta}
format-font = 3

;----------------------------------------------------------
;   Center Modules
;----------------------------------------------------------

[module/title]
type = internal/xwindow
label = %title:0:60:...%
label-foreground = ${tokyonight.fg-dark}

;----------------------------------------------------------
;   Right Modules
;----------------------------------------------------------

[module/updates]
type = custom/script
exec = ~/.config/polybar/scripts/updates.sh
interval = 600
label = %output%
label-foreground = ${tokyonight.orange}

[module/weather]
type = custom/script
exec = ~/.config/polybar/scripts/weather.sh
interval = 600
label = %output%
label-foreground = ${tokyonight.cyan}
format-font = 3

[module/cpu-temp]
type = internal/temperature
interval = 5
thermal-zone = 5
warn-temperature = 80

format = <label>
format-prefix = " "
format-prefix-foreground = ${tokyonight.red}
label = %temperature-c%
label-foreground = ${tokyonight.fg}

format-warn = <label-warn>
format-warn-prefix = " "
format-warn-prefix-foreground = ${tokyonight.red}
label-warn = %temperature-c%
label-warn-foreground = ${tokyonight.red}

[module/cpu]
type = internal/cpu
interval = 2
format-prefix = " "
format-prefix-foreground = ${tokyonight.green}
label = "CPU %percentage:2%%"
label-foreground = ${tokyonight.fg}

[module/memory]
type = internal/memory
interval = 2
format-prefix = " "
format-prefix-foreground = ${tokyonight.yellow}
label = "MEM %percentage_used:2%%"
label-foreground = ${tokyonight.fg}

[module/disk]
type = internal/fs
mount-0 = /
interval = 30
fixed-values = true

format-mounted-prefix = "󰋊 "
format-mounted-prefix-foreground = ${tokyonight.purple}
label-mounted = "DSK %percentage_used%%"
label-mounted-foreground = ${tokyonight.fg}

format-unmounted =

[module/net-speed]
type = internal/network
interface-type = wireless
interval = 1

format-connected = <label-connected>
label-connected = " %downspeed:8%  %upspeed:8%"
label-connected-foreground = ${tokyonight.fg}

format-disconnected =

[module/pulseaudio]
type = internal/pulseaudio

format-volume = <ramp-volume> <label-volume>
label-volume = %percentage%%
label-volume-foreground = ${tokyonight.fg}

ramp-volume-0 =
ramp-volume-1 =
ramp-volume-2 =
ramp-volume-foreground = ${tokyonight.blue}

label-muted = 󰝟 muted
label-muted-foreground = ${tokyonight.comment}

[module/wlan]
type = internal/network
interface-type = wireless
interval = 3.0

format-connected = <label-connected>
format-connected-prefix = "󰖩 "
format-connected-prefix-foreground = ${tokyonight.green1}
label-connected = %essid%
label-connected-foreground = ${tokyonight.fg}

format-disconnected = <label-disconnected>
format-disconnected-prefix = "󰖪 "
format-disconnected-prefix-foreground = ${tokyonight.comment}
label-disconnected = off
label-disconnected-foreground = ${tokyonight.comment}

[module/eth]
type = internal/network
interface-type = wired
interval = 3.0

format-connected-prefix = "󰈀 "
format-connected-prefix-foreground = ${tokyonight.green1}
label-connected = %local_ip%
label-connected-foreground = ${tokyonight.fg}

format-disconnected =

[module/battery]
type = internal/battery
battery = BAT0
adapter = ADP1
full-at = 98

format-charging = <label-charging>
format-charging-prefix = "󰂄 "
format-charging-prefix-foreground = ${tokyonight.green}
label-charging = BAT %percentage%%
label-charging-foreground = ${tokyonight.fg}

format-discharging = <ramp-capacity> <label-discharging>
label-discharging = BAT %percentage%%
label-discharging-foreground = ${tokyonight.fg}

ramp-capacity-0 = 󰁺
ramp-capacity-1 = 󰁼
ramp-capacity-2 = 󰁾
ramp-capacity-3 = 󰂀
ramp-capacity-4 = 󰁹
ramp-capacity-foreground = ${tokyonight.orange}

format-full-prefix = "󰁹 "
format-full-prefix-foreground = ${tokyonight.green}
label-full = full
label-full-foreground = ${tokyonight.fg}

[module/date]
type = internal/date
interval = 1

date = %a %b %d
time = %H:%M

format-prefix = " "
format-prefix-foreground = ${tokyonight.blue}
label = %date%  %time%
label-foreground = ${tokyonight.fg}

[module/tray]
type = internal/tray
tray-spacing = 8
tray-size = 65%

;----------------------------------------------------------
;   Settings
;----------------------------------------------------------

[settings]
screenchange-reload = true

[global/wm]
margin-top = 0
margin-bottom = 0
